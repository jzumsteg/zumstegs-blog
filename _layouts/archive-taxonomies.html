---
layout: default
---

<h1>{{ page.title | markdownify }}</h1>
<p><em>Click on a category to see the list of posts for the catagory</em></p>

{% comment %} Check the type of archive {% endcomment %}
{%- if page.type == 'categories' -%}
  {%- assign taxonomies = site.categories | sort -%}
{%- elsif page.type == 'tags' -%}
  {%- assign taxonomies = site.tags -%}
{%- else -%}
  {%- assign taxonomies = none -%}
{%- endif -%}

{% assign sorted_taxonomies = taxonomies | sort %}
<div class = "taxonomies-wrapper"></div>
  <ul class = "taxonomies">
    {% for tax in sorted_taxonomies %}
      {%- assign taxonomy_name = tax[0] -%}
        <li>
          {%- assign slugified_taxonomy_name = taxonomy_name | slugify -%}
          {%- capture link -%}{{ page.permalink }}#{{ slugified_taxonomy_name }}{%- endcapture -%}
          <a class="taxonomy" href="{{ link | relative_url }}">
            <span>
                {{ taxonomy_name }}
            </span>
            <span class="taxonomy-count">{{ posts.size }}</span>
          </a>
        </li>
    {% endfor %}
  </ul>

 <div>
  {%- for taxonomy in sorted_taxonomies -%}
    {%- assign taxonomy_name = taxonomy[0] -%}
    {%- assign slugified_taxonomy_name = taxonomy_name | slugify -%}
    {%- assign posts = taxonomy[1] -%}
    {%- if posts.size > 0 -%}
      <h2 id="{{ slugified_taxonomy_name }}">
          {{ taxonomy_name }}
      </h2>
      <ul class="post-list-by-taxonomy">  
        {%- for post in posts -%}
          <li>
            <time datetime="{{ page.date | date_to_xmlschema }}">{{ post.date | date: "%m-%b-%Y" }}</time> &raquo; <a href="{{ post.url | relative_url }}">{{ post.title | escape }}</a>
          </li>  
        {%- endfor -%}
      </ul>
      <a href="#" onclick="backToTop()" class="back-to-top">Top &#8648;</a>
    {%- endif -%}
  {%- endfor -%}
 </div>

<script>
  function backToTop() {
    const main = document.getElementById("site-main");
    main.scrollTop = 0;
  }
</script>
